{% extends 'base.html' %}

{% load static %}

{% block title %}EasyNotes{% endblock  %}

{% block css %}
<link type='text/css' href='{% static "css/userHome.css" %}' rel='stylesheet'>
{% endblock  %}

{% block content %}
<div class="container-fluid min-vh-100 d-flex flex-column">
    <div class="row flex-grow-1">
        <div class="col-md-2 d-flex flex-column">
            <div class="d-grid gap-2 text-center d-flex flex-column">
                
            </div>
        </div>
        <div class="col-md-8 d-flex flex-column">
            <div class="container-fluid min-vh-100 d-flex flex-column" style="padding:5%;">
                <div class="card bg-dark text-white ">
                    <div class="card-header text-center bg-dark text-white">
                        <h3>
                            {{ user.username }}
                        </h3>
                    </div>
                    <div class="card-body bg-light text-black">
                        <div class="container-fluid min-vh-100 d-flex flex-column">
                            <div class="row row-cols-1 row-cols-md-2 g-2">
                                <div class="col">
                                    <div class="card bg-dark text-white">
                                        <div class="card-header text-center ">
                                            <h3>
                                                Your Groups
                                            </h3>
                                        </div>
                                        <div class="card-body bg-light text-black">
                                            {% if groups %}
                                            <div class="row row-cols-1 row-cols-md-1 g-2">
                                                {% for group in groups %}
                                                    <div class="col">
                                                        <div class="card text-dark bg-info bg-gradient">
                                                            <div class="card-body ">
                                                                <form action="/user/group/" method="post">
                                                                    {% csrf_token %}
                                                                    <input type="hidden" name="group_id" value="{{ group.id }}">
                                                                    <h4 class="card-text text-truncate text-center">
                                                                        <button type="submit" class="btn btn-link link-dark stretched-link link-offset-2 link-underline link-underline-opacity-0 ">
                                                                            {{ group.title }}
                                                                        </button>
                                                                    </h4>   
                                                                </form>
                                                            </div>
                                                            <div class="card-footer ">{{ group.creation_date }}</div>
                                                        </div>
                                                    </div>
                                                {% endfor %}
                                                <div class="col">
                                                    <hr>
                                                    <h6 class="text-center">
                                                        <p><a class="btn btn-info" href="{% url 'groups' %}">Create a Group</a></p>
                                                    </h6>
                                                </div>
                                            </div>
                                            {% else %}
                                            <h5 class="text-center">
                                                There are no Groups
                                            </h5>
                                            <h6 class="text-center">
                                                <p><a class="btn btn-info" href="{% url 'groups' %}">Create a Group</a></p>
                                            </h6>
                                            {% endif %}
                                        </div>
                                    </div> 
                                </div>
                                <div class="col">
                                    <div class="card bg-dark text-white">
                                        <div class="card-header text-center ">
                                            <h3>
                                                Your Notes
                                            </h3>
                                        </div>
                                        <div class="card-body bg-light text-black">
                                            {% if notes %}
                                            <div class="row row-cols-1 row-cols-md-1 g-2">
                                                {% for notess in notes %}
                                                    {% for note in notess %}
                                                        <div class="col">
                                                            <div class="card bg-dark bg-gradient text-white">
                                                                <div class="card-body ">
                                                                    <form action="/user/note/" method="post">
                                                                        {% csrf_token %}
                                                                        <input type="hidden" name="note_id" value="{{ note.id }}">
                                                                        <h4 class="card-text text-truncate text-center">
                                                                            <button type="submit" class="btn btn-link link-light stretched-link link-offset-2 link-underline link-underline-opacity-0 ">
                                                                                {{ note.title }}
                                                                            </button>
                                                                        </h4>
                                                                    </form>
                                                                </div>
                                                                <div class="card-footer ">{{ note.creation_date }}</div>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                {% endfor %}
                                                <div class="col">
                                                    <hr>
                                                    <h6 class="text-center">
                                                        <p><a class="btn btn-dark" href="{% url 'groups' %}">Go to your groups to create a Note</a></p>
                                                    </h6>
                                                </div>
                                            </div>
                                            {% else %}
                                            <h5 class="text-center">
                                                There are no Notes
                                            </h5>
                                            <h6 class="text-center">
                                                <p><a class="btn btn-dark" href="{% url 'groups' %}">Go to your groups to create a Note</a></p>
                                            </h6>
                                            
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-dark text-center text-white">
                        EasyNotes
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-2 d-flex flex-column" >
            <div class="d-grid gap-2 text-center d-flex flex-column">
                
            </div>
        </div>
    </div>
</div>
{% endblock  %}